{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["'use strict';\nconst formData = { email: '', message: '' };\nconst STORAGE_KEY = 'feedback-form-state';\n\nfunction setupFormFields(form) {\n  const stringData = localStorage.getItem(STORAGE_KEY);\n  try {\n    const parsedData = JSON.parse(stringData);\n    Object.assign(formData, parsedData);\n    form.elements.email.value = formData.email;\n    form.elements.message.value = formData.message;\n  } catch {}\n}\n\nfunction handleFormChanges(evt) {\n  const target = evt.target;\n  if (target.name !== 'email' && target.name !== 'message') return;\n  formData[target.name] = target.value.trim();\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction handleFormSubmittion(evt) {\n  const formElements = evt.target.elements;\n\n  evt.preventDefault();\n  if (formData.email === '' || formData.message === '') {\n    window.alert('Fill please all fields');\n    return;\n  }\n\n  console.log(formData);\n  localStorage.removeItem(STORAGE_KEY);\n  [\n    formData.email,\n    formData.message,\n    formElements.email.value,\n    formElements.message.value,\n  ] = ['', '', '', ''];\n}\n\nfunction setupFormEvents() {\n  const form = document.querySelector('.feedback-form');\n\n  setupFormFields(form);\n  form.addEventListener('input', handleFormChanges);\n  form.addEventListener('submit', handleFormSubmittion);\n}\n\nsetupFormEvents();\n"],"names":["formData","STORAGE_KEY","setupFormFields","form","stringData","parsedData","handleFormChanges","evt","target","handleFormSubmittion","formElements","setupFormEvents"],"mappings":"wFACA,MAAMA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCC,EAAc,sBAEpB,SAASC,EAAgBC,EAAM,CAC7B,MAAMC,EAAa,aAAa,QAAQH,CAAW,EACnD,GAAI,CACF,MAAMI,EAAa,KAAK,MAAMD,CAAU,EACxC,OAAO,OAAOJ,EAAUK,CAAU,EAClCF,EAAK,SAAS,MAAM,MAAQH,EAAS,MACrCG,EAAK,SAAS,QAAQ,MAAQH,EAAS,OACxC,MAAO,CAAE,CACZ,CAEA,SAASM,EAAkBC,EAAK,CAC9B,MAAMC,EAASD,EAAI,OACfC,EAAO,OAAS,SAAWA,EAAO,OAAS,YAC/CR,EAASQ,EAAO,IAAI,EAAIA,EAAO,MAAM,OACrC,aAAa,QAAQP,EAAa,KAAK,UAAUD,CAAQ,CAAC,EAC5D,CAEA,SAASS,EAAqBF,EAAK,CACjC,MAAMG,EAAeH,EAAI,OAAO,SAGhC,GADAA,EAAI,eAAc,EACdP,EAAS,QAAU,IAAMA,EAAS,UAAY,GAAI,CACpD,OAAO,MAAM,wBAAwB,EACrC,MACD,CAED,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWC,CAAW,EACnC,CACED,EAAS,MACTA,EAAS,QACTU,EAAa,MAAM,MACnBA,EAAa,QAAQ,KACtB,EAAG,CAAC,GAAI,GAAI,GAAI,EAAE,CACrB,CAEA,SAASC,GAAkB,CACzB,MAAMR,EAAO,SAAS,cAAc,gBAAgB,EAEpDD,EAAgBC,CAAI,EACpBA,EAAK,iBAAiB,QAASG,CAAiB,EAChDH,EAAK,iBAAiB,SAAUM,CAAoB,CACtD,CAEAE,EAAiB"}